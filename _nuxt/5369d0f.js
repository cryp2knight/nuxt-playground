/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{225:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var o,p=new Promise((function(c,l){n(o=e[t].apply(e,r)).then(c,l)}));return p.request=o,p}function o(e,t,n){var p=r(e,t,n);return p.then((function(e){if(e)return new v(e,p.request)}))}function c(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function l(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})}))}function f(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function h(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})}))}function d(e){this._index=e}function v(cursor,e){this._cursor=cursor,this._request=e}function m(e){this._store=e}function _(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function y(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new _(n)}function w(e){this._db=e}c(d,"_index",["name","keyPath","multiEntry","unique"]),l(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),h(d,"_index",IDBIndex,["openCursor","openKeyCursor"]),c(v,"_cursor",["direction","key","primaryKey","value"]),l(v,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(v.prototype[e]=function(){var cursor=this,t=arguments;return Promise.resolve().then((function(){return cursor._cursor[e].apply(cursor._cursor,t),n(cursor._request).then((function(e){if(e)return new v(e,cursor._request)}))}))})})),m.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},m.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},c(m,"_store",["name","keyPath","indexNames","autoIncrement"]),l(m,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),h(m,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),f(m,"_store",IDBObjectStore,["deleteIndex"]),_.prototype.objectStore=function(){return new m(this._tx.objectStore.apply(this._tx,arguments))},c(_,"_tx",["objectStoreNames","mode"]),f(_,"_tx",IDBTransaction,["abort"]),y.prototype.createObjectStore=function(){return new m(this._db.createObjectStore.apply(this._db,arguments))},c(y,"_db",["name","version","objectStoreNames"]),f(y,"_db",IDBDatabase,["deleteObjectStore","close"]),w.prototype.transaction=function(){return new _(this._db.transaction.apply(this._db,arguments))},c(w,"_db",["name","version","objectStoreNames"]),f(w,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[m,d].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],o=this._store||this._index,c=o[e].apply(o,n.slice(0,-1));c.onsuccess=function(){r(c.result)}})}))})),[d,m].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(o){n.iterateCursor(e,(function(cursor){cursor?(r.push(cursor.value),void 0===t||r.length!=t?cursor.continue():o(r)):o(r)}))}))})})),e.openDb=function(e,t,n){var p=r(indexedDB,"open",[e,t]),o=p.request;return o&&(o.onupgradeneeded=function(e){n&&n(new y(o.result,e.oldVersion,o.transaction))}),p.then((function(e){return new w(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},227:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a}));var r=n(220),o=(n(228),n(229),n(230),n(221)),c=n(222),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(e){function t(code,n,details){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r.code=code,r.details=details,r}return Object(o.c)(t,e),t}(Error);var h=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function d(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var v=function(){function e(){}return e.prototype.encode=function(data){var e=this;if(null==data)return null;if(data instanceof Number&&(data=data.valueOf()),"number"==typeof data&&isFinite(data))return data;if(!0===data||!1===data)return data;if("[object String]"===Object.prototype.toString.call(data))return data;if(Array.isArray(data))return data.map((function(t){return e.encode(t)}));if("function"==typeof data||"object"==typeof data)return d(data,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+data)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?d(e,(function(e){return t.decode(e)})):e},e}();var m=function(){function e(e,t,n,r,o){var c=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=o,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new h(t,n),this.cancelAllRequests=new Promise((function(e){c.deleteService=function(){return e()}}));try{var l=new URL(r);this.customDomain=l.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(data){return n.call(e,data,t||{})}},e.prototype.postJSON=function(e,body,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:t["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(body),headers:t})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,n.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:n.status,json:r}]}}))}))},e.prototype.call=function(e,data,t){return Object(o.b)(this,void 0,void 0,(function(){var n,body,r,c,h,d,v,m,y,w,O;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=this._url(e),data=this.serializer.encode(data),body={data:data},r={},[4,this.contextProvider.getContext()];case 1:return(c=o.sent()).authToken&&(r.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(r["Firebase-Instance-ID-Token"]=c.instanceIdToken),h=t.timeout||7e4,d=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new f("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(h),v=d.timer,m=d.promise,[4,Promise.race([_(v,this.postJSON(n,body,r)),m,_(v,this.cancelAllRequests)])];case 2:if(!(y=o.sent()))throw new f("cancelled","Firebase Functions instance was deleted.");if(w=function(e,t,n){var code=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=code,details=void 0;try{var o=t&&t.error;if(o){var c=o.status;if("string"==typeof c){if(!l[c])return new f("internal","internal");code=l[c],r=c}var h=o.message;"string"==typeof h&&(r=h),void 0!==(details=o.details)&&(details=n.decode(details))}}catch(e){}return"ok"===code?null:new f(code,r,details)}(y.status,y.json,this.serializer))throw w;if(!y.json)throw new f("internal","Response is not valid JSON object.");if(void 0===(O=y.json.data)&&(O=y.json.result),void 0===O)throw new f("internal","Response is missing data field.");return[2,{data:this.serializer.decode(O)}]}}))}))},e}();function _(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}var y,w,O;y=r.a,w=fetch.bind(self),O={Functions:m},y.INTERNAL.registerComponent(new c.a("functions",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("messaging");return new m(n,r,o,t,w)}),"PUBLIC").setServiceProps(O).setMultipleInstances(!0)),r.a.registerVersion("@firebase/functions","0.6.1");var T,k=n(223),j=n(225),I=((T={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',T["not-registered"]="Firebase Installation is not registered.",T["installation-not-found"]="Firebase Installation not found.",T["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',T["app-offline"]="Could not process request. Application offline.",T["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",T),S=new k.b("installations","Installations",I);function E(e){return e instanceof k.c&&e.code.includes("request-failed")}function C(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function R(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function P(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,S.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function A(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function x(e,t){var n=t.refreshToken,r=A(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function N(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function M(e,t){var n=t.fid;return Object(o.b)(this,void 0,void 0,(function(){var t,r,body,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=C(e),r=A(e),body={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.19"},c={method:"POST",headers:r,body:JSON.stringify(body)},[4,N((function(){return fetch(t,c)}))];case 1:return(l=o.sent()).ok?[4,l.json()]:[3,3];case 2:return f=o.sent(),[2,{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:R(f.authToken)}];case 3:return[4,P("Create Installation",l)];case 4:throw o.sent()}}))}))}function D(e){return new Promise((function(t){setTimeout(t,e)}))}var U=/^[cdef][\w-]{21}$/;function F(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(o.f)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return U.test(t)?t:""}catch(e){return""}}function L(e){return e.appName+"!"+e.appId}var B=new Map;function K(e,t){var n=L(e);H(n,t),function(e,t){var n=z();n&&n.postMessage({key:e,fid:t});G()}(n,t)}function H(e,t){var n,r,c=B.get(e);if(c)try{for(var l=Object(o.h)(c),f=l.next();!f.done;f=l.next()){(0,f.value)(t)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}var V=null;function z(){return!V&&"BroadcastChannel"in self&&((V=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){H(e.data.key,e.data.fid)}),V}function G(){0===B.size&&V&&(V.close(),V=null)}var W,$="firebase-installations-store",X=null;function J(){return X||(X=Object(j.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore($)}}))),X}function Y(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=L(e),[4,J()];case 1:return r=o.sent(),c=r.transaction($,"readwrite"),[4,(l=c.objectStore($)).get(n)];case 2:return f=o.sent(),[4,l.put(t,n)];case 3:return o.sent(),[4,c.complete];case 4:return o.sent(),f&&f.fid===t.fid||K(e,t.fid),[2,t]}}))}))}function Z(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=L(e),[4,J()];case 1:return n=o.sent(),[4,(r=n.transaction($,"readwrite")).objectStore($).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function Q(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c,l,f,h;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=L(e),[4,J()];case 1:return r=o.sent(),c=r.transaction($,"readwrite"),[4,(l=c.objectStore($)).get(n)];case 2:return f=o.sent(),void 0!==(h=t(f))?[3,4]:[4,l.delete(n)];case 3:return o.sent(),[3,6];case 4:return[4,l.put(h,n)];case 5:o.sent(),o.label=6;case 6:return[4,c.complete];case 7:return o.sent(),!h||f&&f.fid===h.fid||K(e,h.fid),[2,h]}}))}))}function ee(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(c){switch(c.label){case 0:return[4,Q(e,(function(n){var r=function(e){return re(e||{fid:F(),registrationStatus:0})}(n),c=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(S.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},c=function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,M(e,t)];case 1:return n=o.sent(),[2,Y(e,n)];case 2:return E(r=o.sent())&&409===r.customData.serverCode?[4,Z(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Y(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,r);return{installationEntry:r,registrationPromise:c}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:te(e)}:{installationEntry:t}}(e,r);return t=c.registrationPromise,c.installationEntry}))];case 1:return""!==(n=c.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=c.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function te(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,ne(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,D(100)];case 3:return o.sent(),[4,ne(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ee(e)];case 6:return n=o.sent(),r=n.installationEntry,(c=n.registrationPromise)?[2,c]:[2,r];case 7:return[2,t]}}))}))}function ne(e){return Q(e,(function(e){if(!e)throw S.create("installation-not-found");return re(e)}))}function re(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ie(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(o.b)(this,void 0,void 0,(function(){var e,c,l,body,f,h,d;return Object(o.d)(this,(function(o){switch(o.label){case 0:return e=function(e,t){var n=t.fid;return C(e)+"/"+n+"/authTokens:generate"}(n,t),c=x(n,t),(l=r.getImmediate({optional:!0}))&&c.append("x-firebase-client",l.getPlatformInfoString()),body={installation:{sdkVersion:"w:0.4.19"}},f={method:"POST",headers:c,body:JSON.stringify(body)},[4,N((function(){return fetch(e,f)}))];case 1:return(h=o.sent()).ok?[4,h.json()]:[3,3];case 2:return d=o.sent(),[2,R(d)];case 3:return[4,P("Generate Auth Token",h)];case 4:throw o.sent()}}))}))}function oe(e,t){return void 0===t&&(t=!1),Object(o.b)(this,void 0,void 0,(function(){var n,r,c;return Object(o.d)(this,(function(l){switch(l.label){case 0:return[4,Q(e.appConfig,(function(r){if(!se(r))throw S.create("not-registered");var c=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(c))return r;if(1===c.requestStatus)return n=function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,ae(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,D(100)];case 3:return o.sent(),[4,ae(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,oe(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw S.create("app-offline");var l=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(o.a)(Object(o.a)({},e),{authToken:t})}(r);return n=function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c;return Object(o.d)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,8]),[4,ie(e,t)];case 1:return n=l.sent(),c=Object(o.a)(Object(o.a)({},t),{authToken:n}),[4,Y(e.appConfig,c)];case 2:return l.sent(),[2,n];case 3:return!E(r=l.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Z(e.appConfig)];case 4:return l.sent(),[3,7];case 5:return c=Object(o.a)(Object(o.a)({},t),{authToken:{requestStatus:0}}),[4,Y(e.appConfig,c)];case 6:l.sent(),l.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,l),l}))];case 1:return r=l.sent(),n?[4,n]:[3,3];case 2:return c=l.sent(),[3,4];case 3:c=r.authToken,l.label=4;case 4:return[2,c]}}))}))}function ae(e){return Q(e,(function(e){if(!se(e))throw S.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?Object(o.a)(Object(o.a)({},e),{authToken:{requestStatus:0}}):e}))}function se(e){return void 0!==e&&2===e.registrationStatus}function ce(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,ee(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function ue(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c,l;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=function(e,t){var n=t.fid;return C(e)+"/"+n}(e,t),r=x(e,t),c={method:"DELETE",headers:r},[4,N((function(){return fetch(n,c)}))];case 1:return(l=o.sent()).ok?[3,3]:[4,P("Delete Installation",l)];case 2:throw o.sent();case 3:return[2]}}))}))}function le(e,t){var n=e.appConfig;return function(e,t){z();var n=L(e),r=B.get(n);r||(r=new Set,B.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=L(e),r=B.get(n);r&&(r.delete(t),0===r.size&&B.delete(n),G())}(n,t)}}function fe(e){return S.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new c.a("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw fe("App Configuration");if(!e.name)throw fe("App Name");try{for(var r=Object(o.h)(["projectId","apiKey","appId"]),c=r.next();!c.done;c=r.next()){var l=c.value;if(!e.options[l])throw fe(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,ee(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):oe(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,ce(e.appConfig)];case 1:return n.sent(),[4,oe(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,Q(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw S.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw S.create("app-offline");case 3:return[4,ue(t,n)];case 4:return r.sent(),[4,Z(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return le(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.19")}(r.a);var pe,he=((W={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',W["only-available-in-window"]="This method is available in a Window context.",W["only-available-in-sw"]="This method is available in a service worker context.",W["permission-default"]="The notification permission was not granted and dismissed instead.",W["permission-blocked"]="The notification permission was not granted and blocked instead.",W["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",W["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",W["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",W["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",W["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",W["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",W["token-update-no-token"]="FCM returned no token when updating the user to push.",W["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",W["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",W["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",W["invalid-vapid-key"]="The public VAPID key must be a string.",W["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",W),de=new k.b("messaging","Messaging",he),ge="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function ve(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(o.f)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function be(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(pe||(pe={}));function me(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r=this;return Object(o.d)(this,(function(c){switch(c.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=c.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];c.label=2;case 2:return n=null,[4,Object(j.openDb)("fcm_token_details_db",5,(function(t){return Object(o.b)(r,void 0,void 0,(function(){var r,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return c=o.sent(),[4,r.clear()];case 2:if(o.sent(),!c)return[2];if(2===t.oldVersion){if(!(l=c).auth||!l.p256dh||!l.endpoint)return[2];n={token:l.fcmToken,createTime:null!==(f=l.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:ve(l.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(l=c).fcmToken,createTime:l.createTime,subscriptionOptions:{auth:ve(l.auth),p256dh:ve(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:ve(l.vapidKey)}});return[2]}}))}))}))];case 3:return c.sent().close(),[4,Object(j.deleteDb)("fcm_token_details_db")];case 4:return c.sent(),[4,Object(j.deleteDb)("fcm_vapid_details_db")];case 5:return c.sent(),[4,Object(j.deleteDb)("undefined")];case 6:return c.sent(),[2,_e(n)?n:null]}}))}))}function _e(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var ye=null;function we(){return ye||(ye=Object(j.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}}))),ye}function Oe(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=je(e),[4,we()];case 1:return[4,o.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=o.sent())?[2,n]:[3,3];case 3:return[4,me(e.appConfig.senderId)];case 4:return(r=o.sent())?[4,Te(e,r)]:[3,6];case 5:return o.sent(),[2,r];case 6:return[2]}}))}))}function Te(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=je(e),[4,we()];case 1:return r=o.sent(),[4,(c=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return o.sent(),[4,c.complete];case 3:return o.sent(),[2,t]}}))}))}function ke(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=je(e),[4,we()];case 1:return n=o.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function je(e){return e.appConfig.appId}function Ie(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,body,r,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Re(e)];case 1:n=o.sent(),body=Pe(t),r={method:"POST",headers:n,body:JSON.stringify(body)},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(Ce(e.appConfig),r)];case 3:return[4,o.sent().json()];case 4:return c=o.sent(),[3,6];case 5:throw l=o.sent(),de.create("token-subscribe-failed",{errorInfo:l});case 6:if(c.error)throw f=c.error.message,de.create("token-subscribe-failed",{errorInfo:f});if(!c.token)throw de.create("token-subscribe-no-token");return[2,c.token]}}))}))}function Se(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,body,r,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Re(e)];case 1:n=o.sent(),body=Pe(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(body)},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(Ce(e.appConfig)+"/"+t.token,r)];case 3:return[4,o.sent().json()];case 4:return c=o.sent(),[3,6];case 5:throw l=o.sent(),de.create("token-update-failed",{errorInfo:l});case 6:if(c.error)throw f=c.error.message,de.create("token-update-failed",{errorInfo:f});if(!c.token)throw de.create("token-update-no-token");return[2,c.token]}}))}))}function Ee(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Re(e)];case 1:n=o.sent(),r={method:"DELETE",headers:n},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(Ce(e.appConfig)+"/"+t,r)];case 3:return[4,o.sent().json()];case 4:if((c=o.sent()).error)throw l=c.error.message,de.create("token-unsubscribe-failed",{errorInfo:l});return[3,6];case 5:throw f=o.sent(),de.create("token-unsubscribe-failed",{errorInfo:f});case 6:return[2]}}))}))}function Ce(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Re(e){var t=e.appConfig,n=e.installations;return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Pe(e){var t=e.p256dh,n=e.auth,r=e.endpoint,o=e.vapidKey,body={web:{endpoint:r,auth:n,p256dh:t}};return o!==ge&&(body.web.applicationPubKey=o),body}function Ae(e,t,n){return Object(o.b)(this,void 0,void 0,(function(){var r,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:if("granted"!==Notification.permission)throw de.create("permission-blocked");return[4,De(t,n)];case 1:return r=o.sent(),[4,Oe(e)];case 2:return c=o.sent(),l={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ve(r.getKey("auth")),p256dh:ve(r.getKey("p256dh"))},c?[3,3]:[2,Me(e,l)];case 3:if(h=c.subscriptionOptions,v=(d=l).vapidKey===h.vapidKey,m=d.endpoint===h.endpoint,_=d.auth===h.auth,y=d.p256dh===h.p256dh,v&&m&&_&&y)return[3,8];o.label=4;case 4:return o.trys.push([4,6,,7]),[4,Ee(e,c.token)];case 5:return o.sent(),[3,7];case 6:return f=o.sent(),console.warn(f),[3,7];case 7:return[2,Me(e,l)];case 8:return Date.now()>=c.createTime+6048e5?[2,Ne({token:c.token,createTime:Date.now(),subscriptionOptions:l},e,t)]:[2,c.token];case 9:return[2]}var h,d,v,m,_,y}))}))}function xe(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Oe(e)];case 1:return(n=o.sent())?[4,Ee(e,n.token)]:[3,4];case 2:return o.sent(),[4,ke(e)];case 3:o.sent(),o.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=o.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Ne(e,t,n){return Object(o.b)(this,void 0,void 0,(function(){var r,c,l;return Object(o.d)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,5]),[4,Se(t,e)];case 1:return r=f.sent(),c=Object(o.a)(Object(o.a)({},e),{token:r,createTime:Date.now()}),[4,Te(t,c)];case 2:return f.sent(),[2,r];case 3:return l=f.sent(),[4,xe(t,n)];case 4:throw f.sent(),l;case 5:return[2]}}))}))}function Me(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Ie(e,t)];case 1:return n=o.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Te(e,r)];case 2:return o.sent(),[2,r.token]}}))}))}function De(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:be(t)})]}}))}))}function Ue(data){return"object"==typeof data&&!!data&&"google.c.a.c_id"in data}function Fe(e){return new Promise((function(t){setTimeout(t,e)}))}var Le=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw de.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Oe(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ge,r.label=2;case 2:return[2,Ae(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return xe(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw de.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw de.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw de.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw de.create("only-available-in-window")},e.prototype.onMessage=function(){throw de.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw de.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return(t=function(e){var data=e.data;if(!data)return null;try{return data.json()}catch(e){return null}}(e))?[4,He()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,qe(n,t)]:(r=!1,t.notification?[4,Ve(Be(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(c=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(!t.notification)return;e.notification={};var title=t.notification.title;title&&(e.notification.title=title);var body=t.notification.body;body&&(e.notification.body=body);var image=t.notification.image;image&&(e.notification.image=image)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};var link=t.fcmOptions.link;link&&(e.fcmOptions.link=link);var n=t.fcmOptions.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(c):this.bgMessageHandler.next(c)),[4,Fe(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(o.b)(this,void 0,void 0,(function(){var r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return e.newSubscription?[3,2]:[4,xe(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,Oe(this.firebaseDependencies)];case 3:return r=o.sent(),[4,xe(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,Ae(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ge)];case 5:return o.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(o.b)(this,void 0,void 0,(function(){var r,link,c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(link=function(e){var t,n,r,link=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(link)return link;return Ue(e.data)?self.location.origin:null}(r))?(c=new URL(link,self.location.href),l=new URL(self.location.origin),c.host!==l.host?[2]:[4,Ke(c)]):[2]):[2];case 1:return(f=o.sent())?[3,4]:[4,self.clients.openWindow(link)];case 2:return f=o.sent(),[4,Fe(3e3)];case 3:return o.sent(),[3,6];case 4:return[4,f.focus()];case 5:f=o.sent(),o.label=6;case 6:return f?(r.messageType=pe.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,f.postMessage(r)]):[2]}}))}))},e}();function Be(e){var t,n=Object(o.a)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Ke(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,c,l,f,h;return Object(o.d)(this,(function(d){switch(d.label){case 0:return[4,He()];case 1:t=d.sent();try{for(n=Object(o.h)(t),r=n.next();!r.done;r=n.next())if(c=r.value,l=new URL(c.url,self.location.href),e.host===l.host)return[2,c]}catch(e){f={error:e}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,null]}}))}))}function qe(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=pe.PUSH_RECEIVED;try{for(var c=Object(o.h)(e),l=c.next();!l.done;l=c.next()){l.value.postMessage(t)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}function He(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ve(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var ze=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===pe.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Ue(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw de.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Ae(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ge),[2]}))}))},e.prototype.updateSwReg=function(e){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw de.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),de.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,xe(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?de.create("permission-blocked"):de.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw de.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw de.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw de.create("invalid-sw-registration");if(this.swRegistration)throw de.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw de.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw de.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,data){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return t=function(e){switch(e){case pe.NOTIFICATION_CLICKED:return"notification_open";case pe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return n.sent().logEvent(t,{message_id:data["google.c.a.c_id"],message_name:data["google.c.a.c_l"],message_time:data["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Ge(e){return de.create("missing-app-config-values",{valueName:e})}var We={isSupported:$e};function $e(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r.a.INTERNAL.registerComponent(new c.a("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw Ge("App Configuration Object");if(!e.name)throw Ge("App Name");var r=e.options;try{for(var c=Object(o.h)(["projectId","apiKey","appId","messagingSenderId"]),l=c.next();!l.done;l=c.next()){var f=l.value;if(!r[f])throw Ge(f)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!$e())throw de.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Le(n):new ze(n)}),"PUBLIC").setServiceProps(We));var Xe=function(e){function t(code,n){var r=e.call(this,bt(code),"Firebase Storage: "+n+" ("+bt(code)+")")||this;return r.customData={serverResponse:null},Object.setPrototypeOf(r,t.prototype),r}return Object(o.c)(t,e),t.prototype.codeEquals=function(code){return bt(code)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(k.c),Je="unknown",Ye="object-not-found",Ze="quota-exceeded",Qe="unauthenticated",et="unauthorized",tt="retry-limit-exceeded",nt="canceled",it="invalid-url",ot="invalid-default-bucket",at="no-default-bucket",st="cannot-slice-blob",ct="server-file-wrong-size",ut="no-download-url",lt="invalid-argument",ft="app-deleted",pt="invalid-root-operation",ht="invalid-format",gt="internal-error",vt="unsupported-environment";function bt(code){return"storage/"+code}function mt(){return new Xe(Je,"An unknown error occurred, please check the error payload for server response.")}function _t(){return new Xe(nt,"User canceled the upload/download.")}function yt(){return new Xe(st,"Cannot slice blob for upload. Please retry the upload.")}function wt(e){return new Xe(lt,e)}function Ot(){return new Xe(ft,"The Firebase app was deleted.")}function Tt(e){return new Xe(pt,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kt(e,t){return new Xe(ht,"String does not match format '"+e+"': "+t)}function jt(e){throw new Xe(gt,"Internal error: "+e)}var It={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},St=function(data,e){this.data=data,this.contentType=e||null};function Et(e,t){switch(e){case It.RAW:return new St(Ct(t));case It.BASE64:case It.BASE64URL:return new St(Rt(e,t));case It.DATA_URL:return new St((n=new Pt(t)).base64?Rt(It.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw kt(It.DATA_URL,"Malformed data URL.")}return Ct(t)}(n.rest),function(e){return new Pt(e).contentType}(t))}var n;throw mt()}function Ct(e){for(var b=[],i=0;i<e.length;i++){var t=e.charCodeAt(i);if(t<=127)b.push(t);else if(t<=2047)b.push(192|t>>6,128|63&t);else if(55296==(64512&t))if(i<e.length-1&&56320==(64512&e.charCodeAt(i+1)))t=65536|(1023&t)<<10|1023&e.charCodeAt(++i),b.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t);else b.push(239,191,189);else 56320==(64512&t)?b.push(239,191,189):b.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(b)}function Rt(e,t){switch(e){case It.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw kt(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case It.BASE64URL:var o=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(o||c)throw kt(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=atob(t)}catch(t){throw kt(e,"Invalid character found")}for(var f=new Uint8Array(l.length),i=0;i<l.length;i++)f[i]=l.charCodeAt(i);return f}var Pt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw kt(It.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(s=n,r=";base64",s.length>=r.length&&s.substring(s.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var s,r};var At,xt={STATE_CHANGED:"state_changed"},Nt="running",Mt="pausing",Dt="paused",Ut="success",Ft="canceling",Lt="canceled",Bt="error",Kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qt(e){switch(e){case Nt:case Mt:case Ft:return Kt.RUNNING;case Dt:return Kt.PAUSED;case Ut:return Kt.SUCCESS;case Lt:return Kt.CANCELED;case Bt:default:return Kt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(At||(At={}));var Ht=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=At.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=At.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=At.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,body,n){if(this.sent_)throw jt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==n)for(var r in n)n.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,n[r].toString());return void 0!==body?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw jt("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw jt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw jt("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(header){return this.xhr_.getResponseHeader(header)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Vt=function(){function e(){}return e.prototype.createXhrIo=function(){return new Ht},e}();function zt(p){return"string"==typeof p||p instanceof String}function Gt(p){return Wt()&&p instanceof Blob}function Wt(){return"undefined"!=typeof Blob}function $t(e,t,n,r){if(r<t)throw new Xe(lt,"Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw new Xe(lt,"Invalid value for '"+e+"'. Expected "+n+" or less.")}function Xt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Xt();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Wt())return new Blob(e);throw new Xe(vt,"This browser doesn't seem to support creating Blobs")}var Yt=function(){function e(data,e){var t=0,n="";Gt(data)?(this.data_=data,t=data.size,n=data.type):data instanceof ArrayBuffer?(e?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),t=this.data_.length):data instanceof Uint8Array&&(e?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),t=data.length),this.size_=t,this.type_=n}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Gt(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Wt()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Jt.apply(null,r))}var o=t.map((function(e){return zt(e)?Et(It.RAW,e).data:e.data_})),c=0;o.forEach((function(e){c+=e.byteLength}));var l=new Uint8Array(c),f=0;return o.forEach((function(e){for(var i=0;i<e.length;i++)l[f++]=e[i]})),new e(l,!0)},e.prototype.uploadData=function(){return this.data_},e}(),Zt=function(){function e(e,path){this.bucket=e,this.path_=path}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw new Xe(ot,"Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var c="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),l=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+c+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],i=0;i<l.length;i++){var f=l[i],h=f.regex.exec(t);if(h){var d=h[f.indices.bucket],v=h[f.indices.path];v||(v=""),n=new e(d,v),f.postModify(n);break}}if(null==n)throw function(e){return new Xe(it,"Invalid URL '"+e+"'.")}(t);return n},e}();function Qt(s){var e,p;try{e=JSON.parse(s)}catch(e){return null}return"object"!=typeof(p=e)||Array.isArray(p)?null:e}function en(path){var e=path.lastIndexOf("/",path.length-2);return-1===e?path:path.slice(e+1)}function tn(e){return"https://firebasestorage.googleapis.com/v0"+e}function nn(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function rn(e,t){return t}var on=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rn},an=null;function sn(){if(an)return an;var e=[];e.push(new on("bucket")),e.push(new on("generation")),e.push(new on("metageneration")),e.push(new on("name","fullPath",!0));var t=new on("name");t.xform=function(e,t){return function(e){return!zt(e)||e.length<2?e:en(e)}(t)},e.push(t);var n=new on("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new on("timeCreated")),e.push(new on("updated")),e.push(new on("md5Hash",null,!0)),e.push(new on("cacheControl",null,!0)),e.push(new on("contentDisposition",null,!0)),e.push(new on("contentEncoding",null,!0)),e.push(new on("contentLanguage",null,!0)),e.push(new on("contentType",null,!0)),e.push(new on("metadata","customMetadata",!0)),an=e}function cn(e,t,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var c=n[i];r[c.local]=c.xform(r,t[c.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,path=e.fullPath,r=new Zt(n,path);return t.makeStorageReference(r)}})}(r,e),r}function un(e,t,n){var r=Qt(t);return null===r?null:cn(e,r,n)}function ln(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function fn(e,t,n){var r=Qt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var o=0,c=n.prefixes;o<c.length;o++){var l=c[o].replace(/\/$/,""),f=e.makeStorageReference(new Zt(t,l));r.prefixes.push(f)}if(n.items)for(var h=0,d=n.items;h<d.length;h++){var v=d[h];f=e.makeStorageReference(new Zt(t,v.name));r.items.push(f)}return r}(e,t,r)}var pn=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function hn(e){if(!e)throw mt()}function dn(e,t){return function(n,text){var r=un(e,text,t);return hn(null!==r),r}}function gn(e,t){return function(n,text){var r=un(e,text,t);return hn(null!==r),function(e,t){var n=Qt(t);if(null===n)return null;if(!zt(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,path=e.fullPath;return tn("/b/"+o(n)+"/o/"+o(path))+nn({alt:"media",token:t})}))[0]}(r,text)}}function vn(e){return function(t,n){var r,path,o;return 401===t.getStatus()?r=new Xe(Qe,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Xe(Ze,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(path=e.path,r=new Xe(et,"User does not have permission to access '"+path+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function bn(e){var t=vn(e);return function(n,r){var path,o=t(n,r);return 404===n.getStatus()&&(path=e.path,o=new Xe(Ye,"Object '"+path+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function mn(e,t,n){var r=tn(t.fullServerUrl()),o=e.maxOperationRetryTime,c=new pn(r,"GET",dn(e,n),o);return c.errorHandler=bn(t),c}function _n(e,t,n,r,o){var c={};t.isRoot?c.prefix="":c.prefix=t.path+"/",n&&n.length>0&&(c.delimiter=n),r&&(c.pageToken=r),o&&(c.maxResults=o);var l=tn(t.bucketOnlyServerUrl()),f=e.maxOperationRetryTime,h=new pn(l,"GET",function(e,t){return function(n,text){var r=fn(e,t,text);return hn(null!==r),r}}(e,t.bucket),f);return h.urlParams=c,h.errorHandler=vn(t),h}function yn(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var wn=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function On(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){hn(!1)}return hn(!!n&&-1!==(t||["active"]).indexOf(n)),n}function Tn(e,t,n,r,o,c,l,f){var h=new wn(0,0);if(l?(h.current=l.current,h.total=l.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw new Xe(ct,"Server recorded incorrect upload file size, please retry the upload.");var d=h.total-h.current,v=d;o>0&&(v=Math.min(v,o));var m=h.current,_=m+v,y={"X-Goog-Upload-Command":v===d?"upload, finalize":"upload","X-Goog-Upload-Offset":h.current},body=r.slice(m,_);if(null===body)throw yt();var w=t.maxUploadRetryTime,O=new pn(n,"POST",(function(e,text){var n,o=On(e,["active","final"]),l=h.current+v,f=r.size();return n="final"===o?dn(t,c)(e,text):null,new wn(l,f,"final"===o,n)}),w);return O.headers=y,O.body=body.uploadData(),O.progressCallback=f||null,O.errorHandler=vn(e),O}var kn=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}},jn=function(e,t,n,r,o,c){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=o,this.ref=c};function In(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Sn=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=sn(),this._resumable=this._shouldDoResumable(this._blob),this._state=Nt,this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e.codeEquals(nt)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition(Bt))},this._metadataErrorHandler=function(e){r._request=void 0,e.codeEquals(nt)?r.completeTransitions_():(r._error=e,r._transition(Bt))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){this._state===Nt&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage.getAuthToken().then((function(n){switch(t._state){case Nt:e(n);break;case Ft:t._transition(Lt);break;case Mt:t._transition(Dt)}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,o){var c=t.bucketOnlyServerUrl(),l=yn(t,r,o),f={name:l.fullPath},h=tn(c),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},body=ln(l,n),v=e.maxUploadRetryTime,m=new pn(h,"POST",(function(e){var t;On(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){hn(!1)}return hn(zt(t)),t}),v);return m.urlParams=f,m.headers=d,m.body=body,m.errorHandler=vn(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage.makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var o=e.maxUploadRetryTime,c=new pn(n,"POST",(function(e){var t=On(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){hn(!1)}n||hn(!1);var o=Number(n);return hn(!isNaN(o)),new wn(o,r.size(),"final"===t)}),o);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=vn(t),c}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage.makeRequest(r,n);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new wn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(o){var c;try{c=Tn(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition(Bt)}var l=e._ref.storage.makeRequest(c,o);e._request=l,l.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition(Ut)):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=mn(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage.makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition(Ut)}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,o){var c=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},f=function(){for(var e="",i=0;i<2;i++)e+=Math.random().toString().slice(2);return e}();l["Content-Type"]="multipart/related; boundary="+f;var h=yn(t,r,o),d="--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ln(h,n)+"\r\n--"+f+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",v="\r\n--"+f+"--",body=Yt.getBlob(d,r,v);if(null===body)throw yt();var m={name:h.fullPath},_=tn(c),y=e.maxUploadRetryTime,w=new pn(_,"POST",dn(e,n),y);return w.urlParams=m,w.headers=l,w.body=body.uploadData(),w.errorHandler=vn(t),w}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage.makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition(Ut)}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case Ft:case Mt:this._state=e,void 0!==this._request&&this._request.cancel();break;case Nt:var t=this._state===Dt;this._state=e,t&&(this._notifyObservers(),this._start());break;case Dt:this._state=e,this._notifyObservers();break;case Lt:this._error=_t(),this._state=e,this._notifyObservers();break;case Bt:case Ut:this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case Mt:this._transition(Dt);break;case Ft:this._transition(Lt);break;case Nt:this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=qt(this._state);return new jn(this._transferred,this._blob.size(),e,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var o=this,c=new kn(t,n,r);return this._addObserver(c),function(){o._removeObserver(c)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var i=this._observers.indexOf(e);-1!==i&&this._observers.splice(i,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(qt(this._state)){case Kt.SUCCESS:In(this._resolve.bind(null,this.snapshot))();break;case Kt.CANCELED:case Kt.ERROR:In(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(qt(this._state)){case Kt.RUNNING:case Kt.PAUSED:e.next&&In(e.next.bind(e,this.snapshot))();break;case Kt.SUCCESS:e.complete&&In(e.complete.bind(e))();break;case Kt.CANCELED:case Kt.ERROR:e.error&&In(e.error.bind(e,this._error))();break;default:e.error&&In(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e=this._state===Dt||this._state===Mt;return e&&this._transition(Nt),e},e.prototype.pause=function(){var e=this._state===Nt;return e&&this._transition(Mt),e},e.prototype.cancel=function(){var e=this._state===Nt||this._state===Mt;return e&&this._transition(Ft),e},e}(),En=function(){function e(e,t){this._service=e,this._location=t instanceof Zt?t:Zt.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype.newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Zt(this._location.bucket,"");return this.newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return en(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(path){if(0===path.length)return null;var e=path.lastIndexOf("/");return-1===e?"":path.slice(0,e)}(this._location.path);if(null===t)return null;var n=new Zt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Tt(e)},e}();function Cn(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var c,l,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Rn(t,{pageToken:r})];case 1:return c=o.sent(),(l=n.prefixes).push.apply(l,c.prefixes),(f=n.items).push.apply(f,c.items),null==c.nextPageToken?[3,3]:[4,e(t,n,c.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}function Rn(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&$t("options.maxResults",1,1e3,t.maxResults),[4,e.storage.getAuthToken()];case 1:return n=o.sent(),r=t||{},c=_n(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage.makeRequest(c,n).getPromise()]}}))}))}function Pn(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage.getAuthToken()];case 1:return n=o.sent(),r=function(e,t,n,r){var o=tn(t.fullServerUrl()),body=ln(n,r),c=e.maxOperationRetryTime,l=new pn(o,"PATCH",dn(e,r),c);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=body,l.errorHandler=bn(t),l}(e.storage,e._location,t,sn()),[2,e.storage.makeRequest(r,n).getPromise()]}}))}))}function An(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=tn(t.fullServerUrl()),o=e.maxOperationRetryTime,c=new pn(r,"GET",gn(e,n),o);return c.errorHandler=bn(t),c}(e.storage,e._location,sn()),[2,e.storage.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new Xe(ut,"The given file does not have any download URLs.");return e}))]}}))}))}function xn(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=tn(t.fullServerUrl()),r=e.maxOperationRetryTime,o=new pn(n,"DELETE",(function(e,t){}),r);return o.successCodes=[200,204],o.errorHandler=bn(t),o}(e.storage,e._location),[2,e.storage.makeRequest(n,t).getPromise()]}}))}))}function Nn(e,t){var n=function(path,e){var t=e.split("/").filter((function(component){return component.length>0})).join("/");return 0===path.length?t:path+"/"+t}(e._location.path,t),r=new Zt(e._location.bucket,n);return new En(e.storage,r)}var Mn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Dn=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Mn(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Mn(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var o=this,c=void 0;return t&&(c="function"==typeof t?function(e){return t(new Mn(e,o,o._ref))}:{next:t.next?function(e){return t.next(new Mn(e,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,n||void 0,r||void 0)},e}(),Un=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Fn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Fn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Fn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(Nn(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(data,e){return this._throwIfRoot("put"),new Dn(function(e,data,t){return void 0===t&&(t=null),e._throwIfRoot("uploadBytesResumable"),new Sn(e,new Yt(data),t)}(this._delegate,data,e),this)},e.prototype.putString=function(e,t,n){return void 0===t&&(t=It.RAW),this._throwIfRoot("putString"),new Dn(function(e,t,n,r){void 0===n&&(n=It.RAW),e._throwIfRoot("putString");var data=Et(n,t),c=Object(o.a)({},r);return null==c.contentType&&null!=data.contentType&&(c.contentType=data.contentType),new Sn(e,new Yt(data.data,!0),c)}(this._delegate,e,t,n),this)},e.prototype.listAll=function(){var e=this;return Cn(this._delegate).then((function(t){return new Un(t,e.storage)}))},e.prototype.list=function(e){var t=this;return Rn(this._delegate,e).then((function(e){return new Un(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=mn(e.storage,e._location,sn()),[2,e.storage.makeRequest(n,t).getPromise()]}}))}))}(this._delegate)},e.prototype.updateMetadata=function(e){return Pn(this._delegate,e)},e.prototype.getDownloadURL=function(){return An(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),xn(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Tt(e)},e}(),Ln=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();var Bn=function(){function e(e,t,n,body,r,o,c,l,f,h,d){var v=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=body,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=h,this.timeout_=f,this.pool_=d,this.promise_=new Promise((function(e,t){v.resolve_=e,v.reject_=t,v.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,o=e.resolve_,c=e.reject_,l=n.xhr;if(n.wasSuccessCode)try{var f=e.callback_(l,l.getResponseText());void 0!==f?o(f):o()}catch(e){c(e)}else null!==l?((r=mt()).serverResponse=l.getResponseText(),e.errorCallback_?c(e.errorCallback_(l,r)):c(r)):n.canceled?c(r=e.appDelete_?Ot():_t()):c(r=new Xe(tt,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Kn(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,c=null,l=!1,f=0;function h(){return 2===f}var d=!1;function v(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];d||(d=!0,t.apply(null,e))}function m(t){c=setTimeout((function(){c=null,e(_,h())}),t)}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!d)if(e)v.call.apply(v,Object(o.g)([null,e],t));else{var c,_=h()||l;if(_)v.call.apply(v,Object(o.g)([null,e],t));else r<64&&(r*=2),1===f?(f=2,c=0):c=1e3*(r+Math.random()),m(c)}}var y=!1;function w(e){y||(y=!0,d||(null!==c?(e||(f=2),clearTimeout(c),m(0)):e||(f=1)))}return m(0),setTimeout((function(){l=!0,w(!0)}),n),w}((function(t,n){if(n)t(!1,new Kn(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(o),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(o),e.pendingXhr_=null;var r=(n=n).getErrorCode()===At.NO_ERROR,c=n.getStatus();if(r&&!e.isRetryStatusCode_(c)){var l=-1!==e.successCodes_.indexOf(c);t(!0,new Kn(l,n))}else{var f=n.getErrorCode()===At.ABORT;t(!1,new Kn(!1,null,f))}}))}function o(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Kn=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function qn(e,t,n,o){var c=nn(e.urlParams),l=e.url+c,f=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(f,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(f,n),function(e){var t=void 0!==r.a?r.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(f),new Bn(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}function Hn(path){return/^[A-Za-z]+:\/\//.test(path)}function Vn(e,path){if(e instanceof Gn){var t=e;if(null==t._bucket)throw new Xe(at,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var n=new En(t,t._bucket);return null!=path?Vn(n,path):n}if(void 0!==path){if(path.includes(".."))throw wt('`path` param cannot contain ".."');return Nn(e,path)}return e}function zn(e,t){if(t&&Hn(t)){if(e instanceof Gn)return new En(e,t);throw wt("To use ref(service, url), the first argument must be a Storage instance.")}return Vn(e,t)}var Gn=function(){function e(e,t,n,r){var o,c;this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Zt.makeFromBucketSpec(r):(o=this.app.options,null==(c=null==o?void 0:o.storageBucket)?null:Zt.makeFromBucketSpec(c))}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(time){$t("time",0,Number.POSITIVE_INFINITY,time),this._maxUploadRetryTime=time},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(time){$t("time",0,Number.POSITIVE_INFINITY,time),this._maxOperationRetryTime=time},enumerable:!1,configurable:!0}),e.prototype.getAuthToken=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype.makeStorageReference=function(e){return new En(this,e)},e.prototype.makeRequest=function(e,t){var n=this;if(this._deleted)return new Ln(Ot());var r=qn(e,this._appId,t,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}(),Wn=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(path){if(Hn(path))throw wt("ref() expected a child path but got a URL, use refFromURL instead.");return new Fn(zn(this._delegate,path),this)},e.prototype.refFromURL=function(e){if(!Hn(e))throw wt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zt.makeFromUrl(e)}catch(e){throw wt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fn(zn(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(time){this._delegate.maxUploadRetryTime=time},e.prototype.setMaxOperationRetryTime=function(time){this._delegate.maxOperationRetryTime=time},e}();function $n(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new Wn(n,new Gn(n,r,new Vt,t))}!function(e){var t={TaskState:Kt,TaskEvent:xt,StringFormat:It,Storage:Gn,Reference:Fn};e.INTERNAL.registerComponent(new c.a("storage",$n,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.4.2")}(r.a);var Xn,Jn,Yn,Zn=n(224),Qn=((Xn={})["trace started"]="Trace {$traceName} was started before.",Xn["trace stopped"]="Trace {$traceName} is not running.",Xn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Xn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Xn["no window"]="Window is not available.",Xn["no app id"]="App id is not available.",Xn["no project id"]="Project id is not available.",Xn["no api key"]="Api key is not available.",Xn["invalid cc log"]="Attempted to queue invalid cc event",Xn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Xn["RC response not ok"]="RC response is not ok",Xn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Xn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Xn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Xn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Xn),er=new k.b("performance","Performance",Qn),nr=new Zn.b("Performance");nr.logLevel=Zn.a.INFO;var rr,ir=function(){function e(e){if(this.window=e,!e)throw er.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(k.w)()||(nr.info("IndexedDB is not supported by current browswer"),!1):(nr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var o=r[n];t(o)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===Jn&&(Jn=new e(Yn)),Jn},e}();function or(e,t){var n=e.length-t.length;if(n<0||n>1)throw er.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var ar,sr,cr=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=or("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw er.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw er.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw er.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===rr&&(rr=new e),rr},e}();function ur(){return ar}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(sr||(sr={}));var lr=["firebase_","google_","ga_"],fr=new RegExp("^[a-zA-Z]\\w*$");function pr(){var e=ir.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function dr(){switch(ir.getInstance().document.visibilityState){case"visible":return sr.VISIBLE;case"hidden":return sr.HIDDEN;default:return sr.UNKNOWN}}function gr(){var e=ir.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var vr=!0;function mr(e){var t=function(){var e=ir.getInstance().localStorage;if(!e)return;var t=e.getItem("@firebase/performance/configexpire");if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var r=e.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(e){return}}();return t?(_r(t),Promise.resolve()):function(e){return(t=cr.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+cr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+cr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:cr.getInstance().getAppId(),app_version:"0.4.4",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw er.create("RC response not ok")}))})).catch((function(){nr.info("Could not fetch config, will use default configs")}));var t}(e).then(_r).then((function(e){return function(e){var t=ir.getInstance().localStorage;if(!e||!t)return;t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*cr.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}function _r(e){if(!e)return e;var t=cr.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=vr,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=yr(t.tracesSamplingRate),t.logNetworkAfterSampling=yr(t.networkRequestsSamplingRate),e}function yr(e){return Math.random()<=e}var wr,Or=1;function Tr(){return Or=2,wr=wr||function(){var e=ir.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=cr.getInstance().installationsService.getId()).then((function(e){ar=e})),e;var e})).then((function(e){return mr(e)})).then((function(){return kr()}),(function(){return kr()}))}function kr(){Or=3}var jr,Ir=3,Sr=[],Er=!1;function Cr(e){setTimeout((function(){if(0!==Ir)return Sr.length?void function(){var e=Object(o.g)(Sr);Sr=[];var t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(data,e){return function(data){var e=cr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(data)})}(data).then((function(e){return e.ok||nr.info("Call to Firebase backend failed."),e.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var c=t.logResponseDetails;Array.isArray(c)&&c.length>0&&"RETRY_REQUEST_LATER"===c[0].responseAction&&(Sr=Object(o.g)(e,Sr),nr.info("Retry transport request later.")),Ir=3,Cr(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:cr.getInstance().logSource,log_event:t},e).catch((function(){Sr=Object(o.g)(e,Sr),Ir--,nr.info("Tries left: "+Ir+"."),Cr(1e4)}))}():Cr(1e4)}),e)}function Rr(e){if(!e.eventTime||!e.message)throw er.create("invalid cc log");Sr=Object(o.g)(Sr,[e])}function Pr(e,t){jr||(jr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);Rr({message:r,eventTime:Date.now()})}}(Nr)),jr(e,t)}function Ar(e){var t=cr.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&ir.getInstance().requiredApisAvailable()&&(e.isAuto&&dr()!==sr.VISIBLE||(3===Or?xr(e):Tr().then((function(){return xr(e)}),(function(){return xr(e)}))))}function xr(e){if(ur()){var t=cr.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Pr(e,1)}),0)}}function Nr(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},o={application_info:Mr(),network_request_metric:r},JSON.stringify(o)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Mr(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,o}function Mr(){return{google_app_id:cr.getInstance().getAppId(),app_instance_id:ur(),web_app_info:{sdk_version:"0.4.4",page_url:ir.getInstance().getUrl(),service_worker_status:pr(),visibility_state:dr(),effective_connection_type:gr()},application_process_state:0}}var Dr=["_fp","_fcp","_fid"];var Ur=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=ir.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw er.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw er.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ar(this)},e.prototype.record=function(e,t,n){if(e<=0)throw er.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw er.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object(o.a)({},n.attributes)),n&&n.metrics)for(var r=0,c=Object.keys(n.metrics);r<c.length;r++){var l=c[r];isNaN(Number(n.metrics[l]))||(this.counters[l]=Number(Math.floor(n.metrics[l])))}Ar(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(o=e,c=this.name,0===o.length||o.length>100||!(c&&c.startsWith("_wt_")&&Dr.indexOf(o)>-1)&&o.startsWith("_"))throw er.create("invalid custom metric name",{customMetricName:e});var n,r,o,c;this.counters[e]=(n=t,(r=Math.floor(n))<n&&nr.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||lr.some((function(e){return n.startsWith(e)}))||!n.match(fr)),o=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&o)this.customAttributes[e]=t;else{if(!r)throw er.create("invalid attribute name",{attributeName:e});if(!o)throw er.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Object(o.a)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var o=ir.getInstance().getUrl();if(o){var c=new e("_wt_"+o,!0),l=Math.floor(1e3*ir.getInstance().getTimeOrigin());c.setStartTime(l),t&&t[0]&&(c.setDuration(Math.floor(1e3*t[0].duration)),c.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),c.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),c.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var f=n.find((function(e){return"first-paint"===e.name}));f&&f.startTime&&c.putMetric("_fp",Math.floor(1e3*f.startTime));var h=n.find((function(e){return"first-contentful-paint"===e.name}));h&&h.startTime&&c.putMetric("_fcp",Math.floor(1e3*h.startTime)),r&&c.putMetric("_fid",Math.floor(1e3*r))}Ar(c)}},e.createUserTimingTrace=function(t){Ar(new e(t,!1,t))},e}();function Fr(e){var t=e;if(t&&void 0!==t.responseStart){var n=ir.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),o=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,c=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=cr.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],o=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==o&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Pr(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:c})}}function Lr(){ur()&&(setTimeout((function(){return function(){var e=ir.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){Ur.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),Ur.createOobTrace(t,n,e))}))}else Ur.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=ir.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Fr(r[n])}e.setupObserver("resource",Fr)}()}),0),setTimeout((function(){return function(){for(var e=ir.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Br(r[n])}e.setupObserver("measure",Br)}()}),0))}function Br(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&Ur.createUserTimingTrace(t)}var Kr=function(){function e(e){this.app=e,ir.getInstance().requiredApisAvailable()&&Object(k.N)().then((function(e){e&&(Er||(Cr(5500),Er=!0),Tr().then(Lr,Lr))})).catch((function(e){nr.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new Ur(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return cr.getInstance().instrumentationEnabled},set:function(e){cr.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return cr.getInstance().dataCollectionEnabled},set:function(e){cr.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw er.create("FB not default");if("undefined"==typeof window)throw er.create("no window");return function(e){Yn=e}(window),cr.getInstance().firebaseAppInstance=e,cr.getInstance().installationsService=t,new Kr(e)};e.INTERNAL.registerComponent(new c.a("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.4")}(r.a);var qr,Hr,Vr="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(qr||(qr={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Hr||(Hr={}));var zr,Gr=new Zn.b("@firebase/analytics");function Wr(e,t,n,r,c,l){return Object(o.b)(this,void 0,void 0,(function(){var f,h,d,v;return Object(o.d)(this,(function(o){switch(o.label){case 0:f=r[c],o.label=1;case 1:return o.trys.push([1,7,,8]),f?[4,t[f]]:[3,3];case 2:return o.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return h=o.sent(),(d=h.find((function(e){return e.measurementId===c})))?[4,t[d.appId]]:[3,6];case 5:o.sent(),o.label=6;case 6:return[3,8];case 7:return v=o.sent(),Gr.error(v),[3,8];case 8:return e(qr.CONFIG,c,l),[2]}}))}))}function $r(e,t,n,r,c){return Object(o.b)(this,void 0,void 0,(function(){var l,f,h,d,v,m,_,y;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),l=[],c&&c.send_to?(f=c.send_to,Array.isArray(f)||(f=[f]),[4,Promise.all(n)]):[3,2];case 1:for(h=o.sent(),d=function(e){var n=h.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return l=[],"break";l.push(r)},v=0,m=f;v<m.length&&(_=m[v],"break"!==d(_));v++);o.label=2;case 2:return 0===l.length&&(l=Object.values(t)),[4,Promise.all(l)];case 3:return o.sent(),e(qr.EVENT,r,c||{}),[3,5];case 4:return y=o.sent(),Gr.error(y),[3,5];case 5:return[2]}}))}))}function Xr(e,t,n,r,c){var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[c]&&"function"==typeof window[c]&&(l=window[c]),window[c]=function(e,t,n,r){return function(c,l,f){return Object(o.b)(this,void 0,void 0,(function(){var h;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),c!==qr.EVENT?[3,2]:[4,$r(e,t,n,l,f)];case 1:return o.sent(),[3,5];case 2:return c!==qr.CONFIG?[3,4]:[4,Wr(e,t,n,r,l,f)];case 3:return o.sent(),[3,5];case 4:e(qr.SET,l),o.label=5;case 5:return[3,7];case 6:return h=o.sent(),Gr.error(h),[3,7];case 7:return[2]}}))}))}}(l,e,t,n),{gtagCore:l,wrappedGtag:window[c]}}var Jr=((zr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",zr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",zr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",zr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",zr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",zr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",zr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",zr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',zr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',zr),Yr=new k.b("analytics","Analytics",Jr),Zr=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Qr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function ei(e){var t;return Object(o.b)(this,void 0,void 0,(function(){var n,r,c,l,f,h,d;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=e.appId,r=e.apiKey,c={method:"GET",headers:Qr(r)},l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(l,c)];case 1:if(200===(f=o.sent()).status||304===f.status)return[3,6];h="",o.label=2;case 2:return o.trys.push([2,4,,5]),[4,f.json()];case 3:return d=o.sent(),(null===(t=d.error)||void 0===t?void 0:t.message)&&(h=d.error.message),[3,5];case 4:return o.sent(),[3,5];case 5:throw Yr.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h});case 6:return[2,f.json()]}}))}))}function ti(e,t,n,r){var c=t.throttleEndTimeMillis,l=t.backoffCount;return void 0===r&&(r=Zr),Object(o.b)(this,void 0,void 0,(function(){var t,f,h,d,v,m,_;return Object(o.d)(this,(function(o){switch(o.label){case 0:t=e.appId,f=e.measurementId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,ni(n,c)];case 2:return o.sent(),[3,4];case 3:if(h=o.sent(),f)return Gr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+f+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:t,measurementId:f}];throw h;case 4:return o.trys.push([4,6,,7]),[4,ei(e)];case 5:return d=o.sent(),r.deleteThrottleMetadata(t),[2,d];case 6:if(!function(e){if(!(e instanceof k.c&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(v=o.sent())){if(r.deleteThrottleMetadata(t),f)return Gr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+f+' provided in the "measurementId" field in the local Firebase config. ['+v.message+"]"),[2,{appId:t,measurementId:f}];throw v}return m=503===Number(v.customData.httpStatus)?Object(k.j)(l,r.intervalMillis,30):Object(k.j)(l,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:l+1},r.setThrottleMetadata(t,_),Gr.debug("Calling attemptFetch again in "+m+" millis"),[2,ti(e,_,n,r)];case 7:return[2]}}))}))}function ni(e,t){return new Promise((function(n,r){var o=Math.max(t-Date.now(),0),c=setTimeout(n,o);e.addEventListener((function(){clearTimeout(c),r(Yr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ri=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function ii(e,t,n,r,c){return Object(o.b)(this,void 0,void 0,(function(){var l,f,h,d,v,m,_;return Object(o.d)(this,(function(y){switch(y.label){case 0:return(l=function(e,t,n){return void 0===t&&(t=Zr),Object(o.b)(this,void 0,void 0,(function(){var r,c,l,f,h,d,v=this;return Object(o.d)(this,(function(m){if(r=e.options,c=r.appId,l=r.apiKey,f=r.measurementId,!c)throw Yr.create("no-app-id");if(!l){if(f)return[2,{measurementId:f,appId:c}];throw Yr.create("no-api-key")}return h=t.getThrottleMetadata(c)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new ri,setTimeout((function(){return Object(o.b)(v,void 0,void 0,(function(){return Object(o.d)(this,(function(e){return d.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,ti({appId:c,apiKey:l,measurementId:f},h,d,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Gr.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Gr.error(e)})),t.push(l),f=function(){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(t){switch(t.label){case 0:return Object(k.w)()?[3,1]:(Gr.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(k.N)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Gr.warn(Yr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([l,f])];case 1:return h=y.sent(),d=h[0],v=h[1],c("js",new Date),(_={}).origin="firebase",_.update=!0,m=_,null!=v&&(m.firebase_id=v),c(qr.CONFIG,d.measurementId,m),[2,d.measurementId]}}))}))}var oi,ai,si={},ci=[],ui={},fi="dataLayer",pi="gtag",hi=!1;function di(e){if(hi)throw Yr.create("already-initialized");e.dataLayerName&&(fi=e.dataLayerName),e.gtagName&&(pi=e.gtagName)}function gi(e,t){!function(){var e=[];if(Object(k.s)()&&e.push("This is a browser extension environment."),Object(k.e)()||e.push("Cookies are not available."),e.length>0){var details=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),t=Yr.create("invalid-analytics-context",{errorInfo:details});Gr.warn(t.message)}}();var n=e.options.appId;if(!n)throw Yr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Yr.create("no-api-key");Gr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=si[n])throw Yr.create("already-exists",{id:n});if(!hi){(function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Vr))return r}return null})()||function(e){var script=document.createElement("script");script.src=Vr+"?l="+e,script.async=!0,document.head.appendChild(script)}(fi),function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(fi);var r=Xr(si,ci,ui,fi,pi),c=r.wrappedGtag,l=r.gtagCore;ai=c,oi=l,hi=!0}return si[n]=ii(e,ci,ui,t,oi),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,c){return Object(o.b)(this,void 0,void 0,(function(){var l,f;return Object(o.d)(this,(function(h){switch(h.label){case 0:return c&&c.global?(e(qr.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:l=h.sent(),f=Object(o.a)(Object(o.a)({},r),{send_to:l}),e(qr.EVENT,n,f),h.label=3;case 3:return[2]}}))}))})(ai,si[n],e,t,r).catch((function(e){return Gr.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(qr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:c=o.sent(),e(qr.CONFIG,c,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(ai,si[n],e,t).catch((function(e){return Gr.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(qr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:c=o.sent(),e(qr.CONFIG,c,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(ai,si[n],e,t).catch((function(e){return Gr.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var c,l,f,h,d;return Object(o.d)(this,(function(o){switch(o.label){case 0:if(!r||!r.global)return[3,1];for(c={},l=0,f=Object.keys(n);l<f.length;l++)h=f[l],c["user_properties."+h]=n[h];return e(qr.SET,c),[2,Promise.resolve()];case 1:return[4,t];case 2:d=o.sent(),e(qr.CONFIG,d,{update:!0,user_properties:n}),o.label=3;case 3:return[2]}}))}))})(ai,si[n],e,t).catch((function(e){return Gr.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(si[n],e).catch((function(e){return Gr.error(e)}))},INTERNAL:{delete:function(){return delete si[n],Promise.resolve()}}}}function vi(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:if(Object(k.s)())return[2,!1];if(!Object(k.e)())return[2,!1];if(!Object(k.w)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(k.N)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new c.a("analytics",(function(e){return gi(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:di,EventName:Hr,isSupported:vi})),e.INTERNAL.registerComponent(new c.a("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(e){throw Yr.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.2")}(r.a);var bi,mi=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,c,l;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=o.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return c=o.sent(),l=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===c.status&&l.push(this.storage.setLastSuccessfulFetchResponse(c)),[4,Promise.all(l)];case 3:return o.sent(),[2,c]}}))}))},e}(),_i=((bi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",bi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",bi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",bi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",bi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",bi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",bi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",bi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",bi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",bi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',bi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',bi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",bi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",bi),yi=new k.b("remoteconfig","Remote Config",_i);var wi=function(){function e(e,t,n,r,o,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=c}return e.prototype.fetch=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,c,l,f,h,d,v,m,_,y,w,O,T,k,j,I,S;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=o.sent(),n=t[0],r=t[1],c=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",l=c+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===E&&(E=navigator),E.languages&&E.languages[0]||E.language)},d={method:"POST",headers:f,body:JSON.stringify(h)},v=fetch(l,d),m=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,Promise.race([v,m])];case 3:return o.sent(),[4,v];case 4:return _=o.sent(),[3,6];case 5:throw y=o.sent(),w="fetch-client-network","AbortError"===y.name&&(w="fetch-timeout"),yi.create(w,{originalErrorMessage:y.message});case 6:if(O=_.status,T=_.headers.get("ETag")||void 0,200!==_.status)return[3,11];I=void 0,o.label=7;case 7:return o.trys.push([7,9,,10]),[4,_.json()];case 8:return I=o.sent(),[3,10];case 9:throw S=o.sent(),yi.create("fetch-client-parse",{originalErrorMessage:S.message});case 10:k=I.entries,j=I.state,o.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===j?O=500:"NO_CHANGE"===j?O=304:"NO_TEMPLATE"!==j&&"EMPTY_CONFIG"!==j||(k={}),304!==O&&200!==O)throw yi.create("fetch-status",{httpStatus:O});return[2,{status:O,eTag:T,config:k}]}var E}))}))},e}(),Oi=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Ti=["1","true","t","yes","y","on"],ki=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Ti.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),ji=function(){function e(e,t,n,r,o){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Zn.a.DEBUG;break;case"silent":this._logger.logLevel=Zn.a.SILENT;break;default:this._logger.logLevel=Zn.a.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(o.d)(this,(function(c){switch(c.label){case 0:e=new Oi,setTimeout((function(){return Object(o.b)(r,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return c.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return c.sent(),[3,6];case 4:return t=c.sent(),f="fetch-throttle",n=(l=t)instanceof k.c&&-1!==l.code.indexOf(f)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw c.sent(),t;case 6:return[2]}var l,f}))}))},e.prototype.fetchAndActivate=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Object(o.a)(Object(o.a)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new ki("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new ki("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new ki("static"))},e}();function Ii(e,t){var n=e.target.error||void 0;return yi.create(t,{originalErrorMessage:n&&n.message})}var Si=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Ii(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n=this;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,o){var c=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),l=n.createCompositeKey(e);try{var f=c.get(l);f.onerror=function(e){o(Ii(e,"storage-get"))},f.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){o(yi.create("storage-get",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r=this;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,c){var l=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),f=r.createCompositeKey(e);try{var h=l.put({compositeKey:f,value:t});h.onerror=function(e){c(Ii(e,"storage-set"))},h.onsuccess=function(){o()}}catch(e){c(yi.create("storage-set",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.delete=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n=this;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,o){var c=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),l=n.createCompositeKey(e);try{var f=c.delete(l);f.onerror=function(e){o(Ii(e,"storage-delete"))},f.onsuccess=function(){r()}}catch(e){o(yi.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Ei=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t,n,r,c,l;return Object(o.d)(this,(function(o){switch(o.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=o.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(c=o.sent())&&(this.lastSuccessfulFetchTimestampMillis=c),[4,n];case 3:return(l=o.sent())&&(this.activeConfig=l),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Ci(e,t){return new Promise((function(n,r){var o=Math.max(t-Date.now(),0),c=setTimeout(n,o);e.addEventListener((function(){clearTimeout(c),r(yi.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Ri,Pi=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Object(o.b)(this,void 0,void 0,(function(){var t,c,l;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,Ci(e.signal,n)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof k.c&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=o.sent()))throw c;return l={throttleEndTimeMillis:Date.now()+Object(k.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(l)];case 6:return o.sent(),[2,this.attemptFetch(e,l)];case 7:return[2]}}))}))},e}();(Ri=r.a).INTERNAL.registerComponent(new c.a("remoteConfig",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw yi.create("registration-window");var o=n.options,c=o.projectId,l=o.apiKey,f=o.appId;if(!c)throw yi.create("registration-project-id");if(!l)throw yi.create("registration-api-key");if(!f)throw yi.create("registration-app-id");t=t||"firebase";var h=new Si(f,n.name,t),d=new Ei(h),v=new Zn.b("@firebase/remote-config");v.logLevel=Zn.a.ERROR;var m=new wi(r,Ri.SDK_VERSION,t,c,l,f),_=new Pi(m,h),y=new mi(_,h,d,v),w=new ji(n,y,d,h,v);return w.ensureInitialized(),w}),"PUBLIC").setMultipleInstances(!0)),Ri.registerVersion("@firebase/remote-config","0.1.30");r.a.registerVersion("firebase","8.1.2","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.a.registerVersion("firebase","8.1.2")},257:function(e,t,n){"use strict";n.r(t);n(63),n(64);var r=n(23),o=(n(10),n(2)),c=n(1),l=n(227);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d=c.a.extend({middleware:"admin",data:function(){return{user:null,savedHotels:[],bookedHotels:[],uid:""}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,t.abrupt("return",{uid:n.uid});case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){this.getSavedHotels(),this.getBookedHotels()},methods:{getSavedHotels:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$fire.firestore.collection("users").doc(e.uid),t.prev=1,t.next=4,n.get();case 4:data=t.sent,r=data.data().saved,e.user=data.data(),r.forEach(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get();case 3:r=t.sent,e.savedHotels.push(h({id:r.id},r.data())),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getBookedHotels:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$fire.firestore.collection("users").doc(e.uid),t.prev=1,t.next=4,n.get();case 4:data=t.sent,data.data().booked.forEach(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n){var r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get();case 3:return o=t.sent,t.next=6,null===(r=n.parent.parent)||void 0===r?void 0:r.get();case 6:c=t.sent,e.bookedHotels.push(h(h({room_id:o.id},o.data()),{},{hotel_id:null==c?void 0:c.id},null==c?void 0:c.data())),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},unbookRoom:function(e,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.$fire.firestore.collection("hotelReservation/".concat(e,"/rooms")).doc(t),r.prev=1,r.next=4,o.update({is_available:!0,booked_on:l.a.firestore.FieldValue.delete(),checkin:l.a.firestore.FieldValue.delete(),checkout:l.a.firestore.FieldValue.delete()});case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.log(r.t0);case 9:return c=n.$fire.firestore.collection("users").doc(n.uid),r.prev=10,r.next=13,c.update({booked:l.a.firestore.FieldValue.arrayRemove(o)});case 13:alert("you succesfully unbooked this room"),window.location.reload(),r.next=20;break;case 17:r.prev=17,r.t1=r.catch(10),console.log(r.t1);case 20:case"end":return r.stop()}}),r,null,[[1,6],[10,17]])})))()}}}),v=n(14),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col max-w-lg mx-auto gap-5"},[n("nuxt-link",{staticClass:"mt-10 underline text-red-600",attrs:{to:"/admin"}},[e._v("back")]),e._v(" "),e.user?n("div",{staticClass:"flex flex-col"},[n("span",{staticClass:"text-3xl font-medium text-red-700 underline"},[e._v(e._s((e.user.firstName||"admin")+" "+(e.user.lastName||"admin")))]),e._v(" "),n("div",{staticClass:"flex flex-col"},[n("span",{staticClass:"text-sm text-gray-700"},[e._v(e._s(e.user.address))]),e._v(" "),n("span",{staticClass:"text-gray-800"},[e._v(e._s(e.user.contact))]),e._v(" "),n("span",{staticClass:"text-gray-800"},[e._v(e._s(e.user.email))])]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"flex gap-5"},[e.user.saved&&e.user.saved.length>0?n("span",[n("strong",[e._v(e._s(e.user.saved.length))]),e._v(" saved rooms")]):e._e(),e._v(" "),e.user.booked&&e.user.booked.length>0?n("span",[n("strong",[e._v(e._s(e.user.booked.length))]),e._v(" booked rooms")]):e._e()])]):e._e(),e._v(" "),e.bookedHotels.length>0?n("div",{staticClass:"flex flex-col"},[n("span",{staticClass:"text-2xl font-medium"},[e._v("Booked Hotel Rooms")]),e._v(" "),n("hr"),e._v(" "),e._l(e.bookedHotels,(function(t){return n("div",{key:t.id,staticClass:"flex gap-3 bg-white p-4 m-4 rounded-xl shadow-lg"},[t.photo?n("img",{staticClass:"w-40 h-40 object-cover rounded-xl",attrs:{src:t.photo}}):e._e(),e._v(" "),n("div",{staticClass:"flex flex-col gap-2"},[n("span",{staticClass:"text-xl font-medium"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"font-semibold"},[e._v(e._s(t.rating)+" out of 5 stars")]),e._v(" "),n("span",{},[e._v(e._s(t.address))]),e._v(" "),n("hr"),e._v(" "),n("span",{staticClass:"font-bold text-lg text-right"},[e._v(" "+e._s(t.price))]),e._v(" "),n("span",{staticClass:"flex justify-between"},[e._v("Room type: "),n("strong",[e._v(e._s(t.type))])]),e._v(" "),n("span",{staticClass:"flex justify-between"},[e._v("Booked on\n          "),n("strong",[e._v(e._s(t.booked_on.toDate().toDateString()))])]),e._v(" "),n("span",{staticClass:"flex justify-between"},[e._v("Checkin:\n          "),n("strong",[e._v(e._s(t.checkin.date+" "+t.checkin.time))])]),e._v(" "),n("span",{staticClass:"flex justify-between"},[e._v("Checkout:\n          "),n("strong",[e._v(e._s(t.checkout.date+" "+t.checkout.time))])]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"flex justify-end mt-5"},[n("button",{staticClass:"bg-red-600 text-white rounded-lg p-2",on:{click:function(n){return e.unbookRoom(t.hotel_id,t.room_id)}}},[e._v("\n            Unbook room\n          ")])])])])}))],2):e._e(),e._v(" "),e.savedHotels.length>0?n("div",{staticClass:"flex flex-col"},[n("span",{staticClass:"text-2xl font-medium"},[e._v("Saved Hotels")]),e._v(" "),n("hr"),e._v(" "),e._l(e.savedHotels,(function(t){return n("div",{key:t.id,staticClass:"flex gap-3 bg-white p-4 m-4 rounded-xl shadow-lg"},[t.photo?n("img",{staticClass:"w-40 h-40 object-cover rounded-xl",attrs:{src:t.photo}}):e._e(),e._v(" "),n("div",{staticClass:"flex flex-col gap-3"},[n("div",{staticClass:"flex justify-between"},[n("div",{staticClass:"flex flex-col"},[n("span",{staticClass:"text-xl font-medium"},[e._v(e._s(t.name))]),e._v(" "),n("span",{},[e._v(e._s(t.address))])]),e._v(" "),n("span",{staticClass:"font-semibold"},[e._v(e._s(t.rating)+" out of 5 stars")])]),e._v(" "),n("p",{staticClass:"text-sm text-gray-700"},[e._v(e._s(t.description))])])])}))],2):e._e()],1)}),[],!1,null,null,null);t.default=component.exports}}]);